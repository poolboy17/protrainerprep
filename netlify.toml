[build]
  publish = "dist"
  command = "npm run build"
[build.processing.html]
  pretty_urls = false
[[headers]]
  for = "/_astro/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*"
  [headers.values]
    X-Content-Type-Options = "nosniff"
    X-Frame-Options = "SAMEORIGIN"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"
    Content-Security-Policy = "frame-ancestors 'self'"


# Sitemap redirect — Google checks /sitemap.xml by default
[[redirects]]
  from = "/sitemap.xml"
  to = "/sitemap-index.xml"
  status = 301

# ============================================================
# Phase 2: 301 Redirects — /blog/* → semantic URLs
# ============================================================

# Pillar
[[redirects]]
  from = "/blog/how-to-become-personal-trainer"
  to = "/guides/how-to-become-personal-trainer"
  status = 301

# Certifications cluster
[[redirects]]
  from = "/blog/fitness-certification-guide"
  to = "/certifications/fitness-certification-guide"
  status = 301

[[redirects]]
  from = "/blog/ncsf-cpt-review"
  to = "/certifications/ncsf-cpt-review"
  status = 301

[[redirects]]
  from = "/blog/nasm-cpt-review"
  to = "/certifications/nasm-cpt-review"
  status = 301

[[redirects]]
  from = "/blog/ace-cpt-review"
  to = "/certifications/ace-cpt-review"
  status = 301

[[redirects]]
  from = "/blog/nasm-vs-ncsf"
  to = "/certifications/nasm-vs-ncsf"
  status = 301

[[redirects]]
  from = "/blog/nasm-vs-ace"
  to = "/certifications/nasm-vs-ace"
  status = 301

[[redirects]]
  from = "/blog/cheapest-personal-trainer-certifications"
  to = "/certifications/cheapest-personal-trainer-certifications"
  status = 301

[[redirects]]
  from = "/blog/best-cert-career-changers"
  to = "/certifications/best-cert-career-changers"
  status = 301

# Career change cluster
[[redirects]]
  from = "/blog/career-change-fitness-guide"
  to = "/career-change/career-change-fitness-guide"
  status = 301

[[redirects]]
  from = "/blog/is-it-too-late-to-become-personal-trainer"
  to = "/career-change/is-it-too-late-to-become-personal-trainer"
  status = 301

[[redirects]]
  from = "/blog/fitness-careers-no-gym"
  to = "/career-change/fitness-careers-no-gym"
  status = 301

[[redirects]]
  from = "/blog/afford-fitness-certification"
  to = "/career-change/afford-fitness-certification"
  status = 301

[[redirects]]
  from = "/blog/corporate-to-certified-timeline"
  to = "/career-change/corporate-to-certified-timeline"
  status = 301

[[redirects]]
  from = "/blog/career-change-fitness-after-40"
  to = "/career-change/career-change-fitness-after-40"
  status = 301

# Career building cluster
[[redirects]]
  from = "/blog/career-building-guide"
  to = "/career-building/career-building-guide"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-salary"
  to = "/career-building/personal-trainer-salary"
  status = 301

[[redirects]]
  from = "/blog/get-first-10-clients"
  to = "/career-building/get-first-10-clients"
  status = 301

[[redirects]]
  from = "/blog/personal-training-pricing"
  to = "/career-building/personal-training-pricing"
  status = 301

[[redirects]]
  from = "/blog/online-vs-in-person-personal-training"
  to = "/career-building/online-vs-in-person-personal-training"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-niche-specialization"
  to = "/career-building/personal-trainer-niche-specialization"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-marketing"
  to = "/career-building/personal-trainer-marketing"
  status = 301

[[redirects]]
  from = "/blog/part-time-personal-trainer"
  to = "/career-building/part-time-personal-trainer"
  status = 301

[[redirects]]
  from = "/blog/is-personal-training-good-career"
  to = "/career-building/is-personal-training-good-career"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-100k"
  to = "/career-building/personal-trainer-100k"
  status = 301

[[redirects]]
  from = "/blog/issa-cpt-review"
  to = "/certifications/issa-cpt-review"
  status = 301

[[redirects]]
  from = "/blog/how-hard-is-personal-trainer-exam"
  to = "/certifications/how-hard-is-personal-trainer-exam"
  status = 301

[[redirects]]
  from = "/blog/military-to-personal-trainer"
  to = "/career-change/military-to-personal-trainer"
  status = 301

[[redirects]]
  from = "/blog/teacher-to-personal-trainer"
  to = "/career-change/teacher-to-personal-trainer"
  status = 301

[[redirects]]
  from = "/blog/nurse-to-personal-trainer"
  to = "/career-change/nurse-to-personal-trainer"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-without-degree"
  to = "/career-change/personal-trainer-without-degree"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-certification-renewal"
  to = "/certifications/personal-trainer-certification-renewal"
  status = 301

[[redirects]]
  from = "/blog/career-change-fitness-after-50"
  to = "/career-change/career-change-fitness-after-50"
  status = 301

[[redirects]]
  from = "/blog/gym-vs-independent-personal-trainer"
  to = "/career-building/gym-vs-independent-personal-trainer"
  status = 301


# ============================================================
# Phase 3: Additional 301 Redirects — career-growth + certifications CEU pages
# ============================================================

# Certifications — CEU & recertification pages
[[redirects]]
  from = "/blog/ace-recertification-cost"
  to = "/certifications/ace-recertification-cost"
  status = 301

[[redirects]]
  from = "/blog/best-online-ceu-providers"
  to = "/certifications/best-online-ceu-providers"
  status = 301

[[redirects]]
  from = "/blog/certification-expired-what-now"
  to = "/certifications/certification-expired-what-now"
  status = 301

[[redirects]]
  from = "/blog/ceu-recertification-guide"
  to = "/certifications/ceu-recertification-guide"
  status = 301

[[redirects]]
  from = "/blog/cheapest-ceu-options"
  to = "/certifications/cheapest-ceu-options"
  status = 301

[[redirects]]
  from = "/blog/fitness-conference-guide-ceus"
  to = "/certifications/fitness-conference-guide-ceus"
  status = 301

[[redirects]]
  from = "/blog/free-ceus-personal-trainers"
  to = "/certifications/free-ceus-personal-trainers"
  status = 301

[[redirects]]
  from = "/blog/nasm-recertification-cost"
  to = "/certifications/nasm-recertification-cost"
  status = 301

[[redirects]]
  from = "/blog/ncsf-certification-renewal"
  to = "/certifications/ncsf-certification-renewal"
  status = 301

[[redirects]]
  from = "/blog/ncsf-ceu-courses"
  to = "/certifications/ncsf-ceu-courses"
  status = 301

[[redirects]]
  from = "/blog/skills-certification-didnt-teach"
  to = "/certifications/skills-certification-didnt-teach"
  status = 301

# Career growth pages
[[redirects]]
  from = "/blog/alternative-careers-personal-trainers"
  to = "/career-growth/alternative-careers-personal-trainers"
  status = 301

[[redirects]]
  from = "/blog/career-growth-guide"
  to = "/career-growth/career-growth-guide"
  status = 301

[[redirects]]
  from = "/blog/certified-nutrition-coach"
  to = "/career-growth/certified-nutrition-coach"
  status = 301

[[redirects]]
  from = "/blog/corporate-wellness-jobs-trainers"
  to = "/career-growth/corporate-wellness-jobs-trainers"
  status = 301

[[redirects]]
  from = "/blog/exercise-physiologist-vs-personal-trainer"
  to = "/career-growth/exercise-physiologist-vs-personal-trainer"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-nutrition-scope"
  to = "/career-growth/personal-trainer-nutrition-scope"
  status = 301

[[redirects]]
  from = "/blog/personal-trainer-to-gym-manager"
  to = "/career-growth/personal-trainer-to-gym-manager"
  status = 301

[[redirects]]
  from = "/blog/prenatal-postpartum-training-certification"
  to = "/career-growth/prenatal-postpartum-training-certification"
  status = 301

[[redirects]]
  from = "/blog/strength-conditioning-coach-cscs-csc"
  to = "/career-growth/strength-conditioning-coach-cscs-csc"
  status = 301

[[redirects]]
  from = "/blog/training-older-adults-certification"
  to = "/career-growth/training-older-adults-certification"
  status = 301

[[redirects]]
  from = "/blog/youth-fitness-certification"
  to = "/career-growth/youth-fitness-certification"
  status = 301

[[redirects]]
  from = "/blog/nasm-vs-ace-vs-issa"
  to = "/certifications/nasm-vs-ace-vs-issa"
  status = 301
